# 카카오 애드핏 광고 통합 요구사항

## 소개

MarLang 영어 뉴스 학습 플랫폼에 카카오 애드핏 광고를 통합하여 수익화를 구현합니다. 카카오 애드핏은 광고 코드 설치 후 심사를 진행하는 방식이므로, 먼저 광고 코드를 설치하고 재심사를 요청해야 합니다.

## 요구사항

### 요구사항 1: 광고 단위 생성 및 관리

**사용자 스토리:** 관리자로서 다양한 위치에 적합한 광고 단위를 생성하고 관리할 수 있어야 한다.

#### 승인 기준
1. WHEN 관리자가 카카오 애드핏 대시보드에 접근 THEN 광고 단위를 생성할 수 있어야 함
2. WHEN 광고 단위를 생성 THEN 다음 위치별로 적절한 크기의 광고 단위가 생성되어야 함:
   - 헤더 배너: 728x90 (데스크톱), 320x50 (모바일)
   - 사이드바: 300x250
   - 기사 내 중간: 300x250 또는 728x90
   - 기사 하단: 728x90
   - 모바일 하단 고정: 320x50
3. WHEN 광고 단위가 생성 THEN 각 단위별로 고유한 광고 코드가 발급되어야 함

### 요구사항 2: 광고 코드 통합

**사용자 스토리:** 개발자로서 발급받은 광고 코드를 웹사이트의 적절한 위치에 통합할 수 있어야 한다.

#### 승인 기준
1. WHEN 광고 코드를 받으면 THEN React 컴포넌트로 광고를 표시할 수 있어야 함
2. WHEN 페이지가 로드되면 THEN 광고가 자동으로 로드되어야 함
3. WHEN 모바일과 데스크톱에서 접근 THEN 각각에 적합한 광고 크기가 표시되어야 함
4. WHEN 광고가 로드되지 않으면 THEN 레이아웃이 깨지지 않아야 함
5. WHEN 광고 차단기가 활성화되어 있으면 THEN 대체 콘텐츠나 빈 공간이 표시되어야 함

### 요구사항 3: 광고 배치 최적화

**사용자 스토리:** 사용자로서 광고가 콘텐츠 경험을 방해하지 않으면서도 자연스럽게 배치되어 있어야 한다.

#### 승인 기준
1. WHEN 홈페이지에 접근 THEN 헤더 하단과 기사 목록 사이에 광고가 표시되어야 함
2. WHEN 기사 상세 페이지에 접근 THEN 기사 제목 하단과 본문 중간, 하단에 광고가 표시되어야 함
3. WHEN 검색 결과 페이지에 접근 THEN 검색 결과 상단과 중간에 광고가 표시되어야 함
4. WHEN 모바일에서 접근 THEN 하단에 고정 광고가 표시되어야 함
5. WHEN 광고와 콘텐츠 사이 THEN 적절한 여백이 유지되어야 함

### 요구사항 4: 성능 최적화

**사용자 스토리:** 사용자로서 광고 로딩으로 인해 페이지 성능이 저하되지 않아야 한다.

#### 승인 기준
1. WHEN 광고가 로드될 때 THEN 페이지의 주요 콘텐츠 로딩이 지연되지 않아야 함
2. WHEN 광고 스크립트가 로드될 때 THEN 비동기적으로 로드되어야 함
3. WHEN 광고가 뷰포트에 들어올 때 THEN 지연 로딩(lazy loading)이 적용되어야 함
4. WHEN 광고 로딩이 실패할 때 THEN 에러가 콘솔에 기록되고 사용자 경험에 영향을 주지 않아야 함

### 요구사항 5: 광고 정책 준수

**사용자 스토리:** 관리자로서 카카오 애드핏 정책을 준수하여 심사를 통과할 수 있어야 한다.

#### 승인 기준
1. WHEN 광고가 표시될 때 THEN 광고임을 명확히 표시해야 함 ("광고" 또는 "AD" 라벨)
2. WHEN 광고 클릭 시 THEN 새 창/탭에서 열려야 함
3. WHEN 광고 코드를 수정할 때 THEN 원본 코드의 무결성이 유지되어야 함
4. WHEN 사용자가 광고를 클릭할 때 THEN 의도치 않은 클릭을 유도하지 않아야 함
5. WHEN 광고가 표시될 때 THEN 콘텐츠와 명확히 구분되어야 함

### 요구사항 6: 관리 및 모니터링

**사용자 스토리:** 관리자로서 광고 성과를 모니터링하고 필요시 광고 설정을 조정할 수 있어야 한다.

#### 승인 기준
1. WHEN 광고가 표시될 때 THEN 카카오 애드핏 대시보드에서 노출 수가 집계되어야 함
2. WHEN 광고가 클릭될 때 THEN 클릭 수가 정확히 집계되어야 함
3. WHEN 광고 성과가 저조할 때 THEN 광고 위치나 크기를 조정할 수 있어야 함
4. WHEN 광고 코드에 문제가 있을 때 THEN 쉽게 교체하거나 비활성화할 수 있어야 함

### 요구사항 7: 심사 준비

**사용자 스토리:** 관리자로서 카카오 애드핏 심사를 위한 모든 준비를 완료할 수 있어야 한다.

#### 승인 기준
1. WHEN 광고 코드 설치가 완료되면 THEN 모든 페이지에서 광고가 정상 표시되어야 함
2. WHEN 심사를 요청하기 전 THEN 사이트의 모든 기능이 정상 작동해야 함
3. WHEN 심사관이 사이트를 방문할 때 THEN 충분한 콘텐츠와 활발한 업데이트가 확인되어야 함
4. WHEN 정책 위반 요소를 점검할 때 THEN 모든 콘텐츠가 애드핏 정책에 부합해야 함
5. WHEN 재심사를 요청할 때 THEN 필요한 모든 정보와 개선사항이 준비되어야 함

## 기술적 고려사항

- React 환경에서의 광고 스크립트 통합
- 서버사이드 렌더링(SSR) 호환성
- 모바일 반응형 디자인 적용
- 광고 차단기 대응
- 성능 최적화 (지연 로딩, 비동기 로딩)
- Google AdSense와의 충돌 방지

## 성공 지표

- 카카오 애드핏 심사 통과
- 광고 노출률 95% 이상
- 페이지 로딩 속도 영향 최소화 (LCP 증가 < 200ms)
- 광고 클릭률 업계 평균 이상
- 사용자 이탈률 증가 < 5%